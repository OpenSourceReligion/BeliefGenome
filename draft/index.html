<html>
<head>
<title>Belief Genome</title>
<meta charset="utf-8">
<script src="./d3.v3.min.js"></script>
<script src="./underscore-min.js"></script>
<script src="./jquery.min.js"></script>
<script src="./xerblin.js"></script>
<script>

var width = 1000, height = 618;

var belief_list = ['adequacy', 'anaseismic', 'antic', 'birdnester', 'brast', 'cincholoiponic', 'commandeers', 'crayonist', 'cryptopyrrole', 'deconcentrate', 'dicyclist', 'discussant', 'dissoluble', 'dwellers', 'emulate', 'episyntheton', 'erichtoid', 'farrandly', 'glucosine', 'googul', 'handful', 'hierarchizing', 'holosomatous', 'hydrops', 'incurability', 'jackstones', 'limacine', 'nanigo', 'neontology', 'neutralists', 'nitrogenate', 'nondevelopment', 'oldwives', 'peroneus', 'powerplants', 'prologuised', 'shagging', 'simial', 'speedfully', 'tabernae', 'tartronate', 'tolualdehyde', 'trinketed', 'twinkling', 'ulorrhagia', 'undignified', 'unfatty', 'untrowed', 'zimbaloon']

var beliefs = {}

var data = _.map(belief_list, function(d) {
  var it = {name:d};
  beliefs[d] = it;
  return it;
})


$(function() {

  var the_svg = d3.select("#visual");

  var force = d3.layout.force()
    .charge(-120)
    .linkDistance(30)
    .size([width, height]);

  var node = the_svg.selectAll(".node")
      .data(data)
    .enter().append("circle")
      .attr("class", "node")
      .attr("r", 15)
      .attr("title",  function(d) { return d.name; })
      .style("fill", function(d) { return "#0D94D0"; })
      .on("mouseover", function(d) {
        d3.select(this).style("fill", function(d) { return "#8e6"; });
      })
      .on("mouseout", function(d) {
        d3.select(this).style("fill", function(d) { return "#0D94D0"; });
      })
      .on("dblclick", function(d) {
        $("#stack_display").append('<li>' + d.name + '</li>');
      })
      .call(force.drag);

  force.nodes(data)
//    .links()
    .start();

  force.on("tick", function() {
//    link.attr("x1", function(d) { return d.source.x; })
//        .attr("y1", function(d) { return d.source.y; })
//        .attr("x2", function(d) { return d.target.x; })
//        .attr("y2", function(d) { return d.target.y; });

    node.attr("cx", function(d) { return d.x; })
      .attr("cy", function(d) { return d.y; });
  });

});
</script>
<link href="./site.css" rel="stylesheet" />
</head>
<body>
<h1>Belief Genome</h1>

 <div id="stack" class="lefty">
  <ul id="stack_display"></ul>
 </div>

 <div id="container" class="lefty">
  <svg id="visual" width="1000" height="618"></svg>
 </div>

 <div style="clear:both;"></div>

</body>
</html>
